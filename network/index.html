<html>
  <head>
    <script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-core.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-graph.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-data-adapter.min.js"></script>
    <style type="text/css">
      html, body, #container {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <script>
      anychart.onDocumentReady(function () {
        anychart.data.loadJsonFile("data.json", function (data) {
        // create a chart from the loaded data
        var chart = anychart.graph(data);
        // set the title
        chart.title("Network Graph showing the battles in Game of Thrones");
        // draw the chart
        chart.container("container").draw();

        chart.listen('click', function(e) {
    var tag = e.domTarget.tag;
    if (tag) {
      console.log(`Clicked ${tag.type} with ID ${tag.id}`);

      if (tag.type === 'node') {
        // get url from data directly
        var url;
        for (var i = 0; i < data.nodes.length; i++) {
          if (data.nodes[i].id === tag.id) {
            url = data.nodes[i].url;
            break;
          }
        }

        // open url
        window.open(url, '_blank');
      }
    }
  });
        });
      });
    </script>
  </body>
</html>

